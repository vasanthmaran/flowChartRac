<!DOCTYPE html>
<body>
    <div id="canvas" style="width: 100%;">
    </div>
</body>
<html lang="en">
    <head>
        <meta charset="utf-8">
       
        <style type="text/css">
          .end-element { 
              fill : #FFCCFF; 
            }
        .svg {
            width: 100%;
        }
        </style>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="http://flowchart.js.org/flowchart-latest.js"></script>
        <!-- <script src="../release/flowchart.min.js"></script> -->
        <script>

            window.onload = function () {
                
                fetch('https://github.com/vasanthmaran/flowChartRac/blob/main/flow.txt')
                .then(response => response.text())
                .then(data => {
                    
                    var chart;
                    var code = data;

                    if (chart) {
                        chart.clean();
                    }
                    chart = flowchart.parse(strings);
                    chart.drawSVG('canvas', {
                        'x': 50,
                        'y': 50,
                        'line-width': 2.2,
                        'maxWidth':1,//ensures the flowcharts fits within a certian width
                        'line-length': 20,
                        'text-margin': 12,
                        'text-align':'center',
                        'font-size': 11,
                        'font': 'normal',
                        'font-family': 'Helvetica',
                        'font-weight': 'normal',
                        'font-color': 'black',
                        'line-color': '#7F8487',
                        'element-color': '#7F8487',
                        'fill': 'white',
                        'yes-text': 'yes',
                        'no-text': 'no',
                        'arrow-end': 'block',
                        'scale': 1,
                        'symbols': {
                            'start': {
                            'font-color': '#1B2430',
                            'element-color': '#AEDBCE',
                            'fill': '#D3EBCD',
                            'font-size' : 12,
                        
                            },
                            'end':{
                                'font-family': 'BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif'
                            // 'class': 'end-element'
                            },
                            'condition':{
                                'font-color': '#1B2430',
                                'element-color': '#AEDBCE',
                                'fill': '#D3EBCD',
                                'font-size' : 11
                            }
                        },
                        'flowstate' : {
                            'past' : { 'fill' : '#CCCCCC', 'font-size' : 12},
                            'current' : {'fill' : 'yellow', 'font-color' : 'red', 'font-weight' : 'bold'},
                            'future' : { 'fill' : '#FFFF99'},
                            'request' : { 'fill' : 'blue'},
                            'invalid': {'fill' : '#444444'},
                            'basic': {'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No', 'line-color': '#7F8487',},
                            'approved' : { 'fill' : '#58C4A3', 'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No' },
                            'rejected' : { 'fill' : '#C45879', 'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No' },
                            'rca': {'font-size' : 11,'line-length': 10},
                            'right': {'line-length': 2}
                        }
                    });
                });
                
                $('[id^=sub1]').click(function(){
                alert('info here');
                });
                }

                function myFunction(event, node) {
                console.log("You just clicked this node:", node);
                }
            
        </script>
    </head>
    
</html>
