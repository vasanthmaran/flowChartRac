<!DOCTYPE html>
<body>
    <div id="canvas" style="width: 100%;">
    </div>
</body>
<html lang="en">
    <head>
        <meta charset="utf-8">
       
        <style type="text/css">
          .end-element { 
              fill : #FFCCFF; 
            }
        .svg {
            width: 100%;
        }
        </style>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="http://flowchart.js.org/flowchart-latest.js"></script>
        <!-- <script src="../release/flowchart.min.js"></script> -->
        <script>

            window.onload = function () {
                
                    var chart;
                    var code = 'st=>start: FCU Return air temperature setpoint violation\n\ncond=>operation: RCA:  Return airtemperature sensor error\ncond2=>operation: RCA: Supply air temperature sensor error|basic\ncond3=>operation: RCA: Return air temperature data reliability error|basic\ncond4=>operation: RCA: Supply air temperature data reliabiity error|basic\ncond5=>operation: RCA: Chilled water valve command data reliability error|basic\ncond6=>operation: RCA: Heating water valve command data reliability error\ncond7=>operation: RCA: Cooling is required; Cooling coil valve is not open|basic\ncond8=>operation: RCA: Heating is required; Heating coil valve is not open|basic\ncond9=>operation: RCA: HIU pump not in operation|basic\ncond10=>operation: RCA: HIU pump flow is very low|basic\ncond11=>operation: RCA: Ineffective heat exchange due to scaling/fouling in heat exchange coil|basic\ncond12=>operation: RCA: Supply temperature from HIU is very high (undercooling)|basic\ncond13=>operation: RCA: Chilled water pump not in operation|basic\ncond14=>operation: RCA: Chilled water pump flow is very low|basic\ncond15=>operation: RCA: Chiller not in operation|basic\ncond16=>operation: RCA: Supply temperature from chiller is very high (undercooling)|basic\n\ne=>end: End:>https://youtu.be/YQryHo1iHb8[blank]  \n\nst->cond \ncond(bottom)->cond2(bottom)\ncond2(bottom)->cond3\ncond3(yes)->op3\ncond3->cond4->cond5->cond6->cond7->cond8->cond9->cond10->cond11->cond12->cond13->cond14->cond15->cond16->e';

                    if (chart) {
                        chart.clean();
                    }
                    chart = flowchart.parse(code);
                    chart.drawSVG('canvas', {
                        'x': 50,
                        'y': 50,
                        'line-width': 2.2,
                        'maxWidth':1,//ensures the flowcharts fits within a certian width
                        'line-length': 20,
                        'text-margin': 12,
                        'text-align':'center',
                        'font-size': 11,
                        'font': 'normal',
                        'font-family': 'Helvetica',
                        'font-weight': 'normal',
                        'font-color': 'black',
                        'line-color': '#7F8487',
                        'element-color': '#7F8487',
                        'fill': 'white',
                        'yes-text': 'yes',
                        'no-text': 'no',
                        'arrow-end': 'block',
                        'scale': 1,
                        'symbols': {
                            'start': {
                            'font-color': '#1B2430',
                            'element-color': '#AEDBCE',
                            'fill': '#D3EBCD',
                            'font-size' : 12,
                        
                            },
                            'end':{
                                'font-family': 'BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif'
                            // 'class': 'end-element'
                            },
                            'condition':{
                                'font-color': '#1B2430',
                                'element-color': '#AEDBCE',
                                'fill': '#D3EBCD',
                                'font-size' : 11
                            }
                        },
                        'flowstate' : {
                            'past' : { 'fill' : '#CCCCCC', 'font-size' : 12},
                            'current' : {'fill' : 'yellow', 'font-color' : 'red', 'font-weight' : 'bold'},
                            'future' : { 'fill' : '#FFFF99'},
                            'request' : { 'fill' : 'blue'},
                            'invalid': {'fill' : '#444444'},
                            'basic': {'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No', 'line-color': '#7F8487',},
                            'approved' : { 'fill' : '#58C4A3', 'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No' },
                            'rejected' : { 'fill' : '#C45879', 'font-size' : 11, 'yes-text' : 'Yes', 'no-text' : 'No' },
                            'rca': {'font-size' : 11,'line-length': 10},
                            'right': {'line-length': 2}
                        }
                    });
                $('[id^=sub1]').click(function(){
                alert('info here');
                });
                }

                function myFunction(event, node) {
                console.log("You just clicked this node:", node);
                }
            
        </script>
    </head>
    
</html>
